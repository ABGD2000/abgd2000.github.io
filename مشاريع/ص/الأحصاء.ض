تحميل "النص.ض"
تحميل "حساب.ض"
# تعريف دالة لحساب المتوسط
دالة المتوسط(الأرقام)
    الجمع = 0
    من رقم في الأرقام
        الجمع += رقم
    دور
    لو طول(الأرقام) > 0
        مرر الجمع / طول(numbers)
    لا
        مرر 0 # التعامل مع حالة المصفوفة الفارغة
    تم
تمام



دالة الوسيط(الأرقام)
    أعداد_مرتبة = sort(الأرقام) # ترتيب الأرقام
    ن = طول(أعداد_مرتبة)
    لو ن % 2 == 0 # عدد زوجي
        النصف1 = أعداد_مرتبة[ن / 2 - 1]
        النصف2 = أعداد_مرتبة[ن / 2]
        مرر (النصف1 + النصف2) / 2
    لا # عدد فردي
        مرر أعداد_مرتبة[صحيح(ن / 2)]
    تم
تمام

دالة الانحراف_المعياري(الأرقام)
    ن = طول(الأرقام)
    لو ن == 0
      مرر 0
    تم
    المتوسط = المتوسط(الأرقام)
    مجمع_الفرق_المربع = 0
    من رقم في الأرقام
        الفرق = رقم - المتوسط
        مجمع_الفرق_المربع += الفرق * الفرق
    دور
    مرر الجزر_التربيعي(مجمع_الفرق_المربع / (ن - 1)) # استخدام n-1 للحصول على انحراف معياري للعينة
تمام
دالة الانحراف_المعياري(الأرقام ,المتوسط)
    ن = طول(الأرقام)
    لو ن == 0
      مرر 0
  تم
    مجمع_الفرق_المربع = 0
    من رقم في الأرقام
        الفرق = رقم - المتوسط
        مجمع_الفرق_المربع += الفرق * الفرق
    دور
    مرر الجزر_التربيعي(مجمع_الفرق_المربع / (ن - 1)) # استخدام n-1 للحصول على انحراف معياري للعينة
تمام

دالة الارتباط(س, ص)
    ن = طول(س)
    لو ن != طول(ص) || ن == 0
        مرر 0
    تم

    متوسط_س = المتوسط(س)
    متوسط_ص = المتوسط(ص)

    مجمع_سص = 0
    مجمع_س_المربع = 0
    مجمع_ص_المربع = 0

    من ا = 1 إلى ن
        مجمع_سص += (س[ا] - متوسط_س) * (ص[ا] - متوسط_ص)
        مجمع_س_المربع += (س[ا] - متوسط_س) ^ 2
         مجمع_ص_المربع += (ص[ا] - متوسط_ص) ^ 2
    دور
    
    لو مجمع_ص_المربع == 0 || مجمع_س_المربع == 0
        مرر 0
    تم

    مرر مجمع_سص / (الجزر_التربيعي(مجمع_س_المربع) * الجزر_التربيعي(مجمع_ص_المربع))
تمام

دالة التباين(س, ص)
    ن = طول(س)
    لو ن != طول(ص) || ن == 0
        مرر 0
    تم

    متوسط_س = المتوسط(س)
    متوسط_ص = المتوسط(ص)

    التباين = 0
    من ا = 1 إلى ن
        التباين += (س[ا] - متوسط_س) * (ص[ا] - متوسط_ص)
    دور
    مرر التباين / (ن - 1)
تمام

دالة الانحدار_الخطي_البسيط(س , ص)
    ن = طول(س)
    لو ن != طول(ص) || ن == 0
        مرر فارغ
    تم

    متوسط_س = المتوسط(س)
    متوسط_ص = المتوسط(ص)

    البسط = 0
    المقام = 0

    من ا = 1 إلى ن
        البسط += (س[ا] - متوسط_س) * (ص[ا] - متوسط_ص)
        المقام += (س[ا] - متوسط_س) ^ 2
    دور

    لو المقام == 0
        مرر فارغ # خطأ: لا يمكن القسمة على صفر
    دور

    الميل = البسط / المقام # الميل
    التقاطع = متوسط_ص - الميل * متوسط_س # التقاطع

    مرر [التقاطع, الميل] # إرجاع مصفوفة تحتوي على التقاطع والميل
تمام

دالة تنبؤ_الانحدار_الخطي_البسيط(س , ص,قمية_مستقلة_جديدة)
المعاملات = الانحدار_الخطي_البسيط(س , ص)

لو المعاملات != فارغ
    التقاطع = المعاملات[1]
    الميل = المعاملات[2]

    # مثال على التنبؤ بقيمة y بناءً على قيمة x جديدة
    
    تنبؤ_ص = التقاطع + الميل * قمية_مستقلة_جديدة
لا
    شوف "حدث خطأ في حساب معاملات الانحدار." + سطر
    مرر فارغ
تم
تمام


دالة التوزيع(س, المتوسط , الانحراف)
    لو الانحراف <= 0
        مرر 0 # الانحراف المعياري يجب أن يكون أكبر من صفر
    تم

    ثابت = 1 / (الانحراف * الجزر(2 * 3.141592653589793)) # ثابت التوزيع الطبيعي
    الأس = -((س - المتوسط) ^ 2) / (2 * (الانحراف ^ 2))
    مرر ثابت * التضخم(الأس) # استخدام exp() لحساب e^x
تمام


دالة  اﺧتﺒﺎر_ت_ﻟﻌﻴﻨتين_ﻣﺴ�ﺘﻘﻠﺘين(ع1 , ع2)
    ن1 = طول(ع1)
    ن2 = طول(ع2)

    لو ن1 == 0 || ن2 == 0
        مرر فارغ # يجب أن تحتوي العينات على بيانات
    تم

    متوسط1 = متوسط(ع1)
    متوسط2 = متوسط(ع2)

    تباين1 = التباين(ع1 , متوسط1)
    تباين2 = التباين(ع2 ,  متوسط2)

    # حساب إحصائية الاختبار t (بافتراض تباين متساوي - simplified)
    التباين_المجمع = ((ن1 - 1) * تباين1 + (ن2 - 1) * تباين2) / (ن1 + ن2 - 2)
    الخطأ_المعياري = جزر(التباين_المجمع * (1 / ن1 + 1 / ن2))

    لو الخطأ_المعياري == 0
        مرر فارغ
    تم
    تي_الإحصائية = (متوسط1 - متوسط2) / الخطأ_المعياري

    مرر تي_الإحصائية
تمام
دالة ارتباط_بيرسون(س , ص )

    ن = طول(س)
    لو ن != طول(ص) || ن == 0
        مرر 0
    تم

    متوسط_س = المتوسط(س)
    متوسط_ص = المتوسط(ص)

    انحراف_س = الانحراف(س , متوسط_س)
    انحراف_ص = الانحراف(ص , متوسط_ص)

    لو انحراف_س == 0 or انحراف_س == 0
      مرر 0 # لا يمكن القسمة على صفر
    تم

    التغاير = 0
    من ا = 1 إلى ن
        التغاير += (س[ا] - متوسط_س) * (ص[ا] - متوسط_ص)
    دور

    مرر التغاير / (انحراف_س * انحراف_ص * (ن-1))

تمام

#دالة حساب المسافة الإقليدية
دالة المسافة(ن1 , ن2)
    مرر جزر((ن1[1] - ن2[1])^2 + (ن1[2] - ن2[2])^2)
تمام


دالة الترادف_المعين(البيانات , العدد)
# k-mean
#اختيار نقاط بداية عشوائية (Centroids)
النقط_الوسطى = [data[1],data[3]]

من ا = 1 إلى 10 # عدد مرات التكرار
    مراكز = list(طول(البيانات))
    من ب = 1 إلى طول(البيانات)
        أقل_مسافة = 100000
        أقرب_مركز = 0
        من م = 1 إلى العدد
            مسافة = المسافة(البيانات[ب], النقط_الوسطى[م])
            لو مسافة < أقل_مسافة
                أقرب_مركز = مسافة
                أقرب_مركز = م
            تم
        دور
        مراكز[ب] = أقرب_مركز
    دور
    #حساب centroids جديدة
    مجمع_س = list(العدد)
    مجمع_ص = list(العدد)
    المجمع = list(العدد)
    من م = 1 إلى العدد
        مجمع_س[م] = 0
        مجمع_ص[م] = 0
        المجمع[م] = 0
    دور
    من ب = 1 إلى طول(البيانات)
        م = مراكز[ب]
        مجمع_س[م] += data[ب][1]
        مجمع_ص[م] += data[ب][2]
        المجمع[م] += 1
    دور
    من م = 1 إلى العدد
        لو  المجمع[م] > 0
            النقط_الوسطى[م] = [مجمع_س[م]/ المجمع[م], مجمع_ص[م]/ المجمع[م]]
        تم
    دور
    
دور
شوف "المجموعات النهائية" + سطر
من ب = 1  طول(البيانات)
    شوف "النقطة " + البيانات[ب] + " في المجموعة " + النقط_الوسطى[ب] + سطر
دور

تمام

