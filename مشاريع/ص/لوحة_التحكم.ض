تحميل "النص.ض"
تحميل "المظهر.ض"
تحميل "مخزن_البيانات.ض"

قوالب_مظهر=[]

نداء System.GUI
وحدة لوحة_التحكم


// جدول
// شريط_عناصر

اسم_مخزن_البيانات="الفواتير"
البيانات =[
["الأسم","قائمة",[""]],
["البلد","قائمة",[:مصر,:تونس,:صومال]],
["المناطق","جدول",["البلد"],[:1,1]]

]

قيم_البيانات=[]

مصفوفة_العناصر=[]
القرارات=[]
قيم_القرارات=[]
مصفوفة_القرارات=[]
المنتجات=[ٍ]
قيم_المنتجات=[]
مصفوفة_المنتجات=[]
استعداد_الجلسة=0
تقسيم_العناصر=2


دالة عرض_البرنامج(ب,ق,م)


قيم=ق


البرنامج=أعمل تطبيق
شوف سطر
لو (طول(قيم_البيانات))

البرنامج.ضع_استعداد_الجلسة(قيم_البيانات[1])
تم
شوف سطر

البرنامج.ضع_اسم_مخزن_البيانات(اسم_مخزن_البيانات)
البرنامج.ضع_البيانات(ب,ق,م)

البرنامج.صف_العناصر(تقسيم_العناصر)
البرنامج{
يمين()
الشاشة_الرئيس = أعمل شاشة_البيانات()
قيم_البيانات=[]
عدد_الجدول=0
إضافات_الجدول=0
عدد_الجواب=0
إضافات_الحواب=0


من رقم_البيان=1 إلى طول(البيانات)
بيان = البيانات[رقم_البيان]
لو(طول(بيان)>=3)
لو(بيان[2]= :قائمة_جواب)
مصفوفة_العناصر[بيان[1]] = أعمل قائمة_جواب(الشاشة_الرئيس){ضع_بيانات(بيان[3]) عند_التبديل("") }

إذا (بيان[2]= :قائمة)
مصفوفة_العناصر[بيان[1]] = أعمل قائمة(الشاشة_الرئيس){ضع_بيانات(بيان[3]) عند_التبديل("") }

إذا (بيان[2]= :زر)


مؤشر_زر = أعمل qCursor(){setShape(Qt_PointingHandCursor)}
مظهر_زر = "
	QPushButton{color:#2b5392} 
	QPushButton:hover{color:#fff;background-color:#490383} 
	QPushButton:pressed{color:#490383;background-color:#fff; }
"



مصفوفة_العناصر[بيان[1]] =  أعمل زر(الشاشة_الرئيس){ضع_نص(بيان[3][1]) ضع_مظهر(مظهر_زر) ضع_مؤشر(مؤشر_زر)
شوف "مصفوفة_العناصر['"+بيان[1]+"'].جملة_التنفيذ("+رقم_البيان+")"
 عند_الضغط("مصفوفة_العناصر['"+بيان[1]+"'].جملة_التنفيذ(مصفوفة_العناصر,البيانات,"+رقم_البيان+")") }

إذا (بيان[2]= :جدول)
عدد_الجدول++
مصفوفة_العناصر[بيان[1]] = أعمل جدول(الشاشة_الرئيس)
مخزن=أعمل مخزن_خفيف
مخزن.الجدول= مصفوفة_العناصر[بيان[1]]
مخزن.اسم_الجدول=بيان[1]
مخزن.الأعمدة=بيان[3]
لو طول(بيان)>=4  مخزن.البيانات=بيان[4] تم
مخزن.الأتصال(اسم_مخزن_البيانات)
مخزن.الإنشاء()
مخزن.هات_الكل()
مصفوفة_العناصر[بيان[1]].رأس_البيانات = مخزن.الجدول.رأس_البيانات 
// مخزن.الحفظ([1.1 , 2 , "الأخضر تجربي"])
مخزن.الأغلاق()
// مصفوفة_العناصر["مخزن"][بيان[1]]=مخزن
 //عند_التبديل("قيم_البيانات[:"+بيان[1]+"]=مصفوفة_العناصر[:"+بيان[1]+"].هات_النص()") }

إذا (بيان[2]= :جواب)
عدد_الجواب++
مصفوفة_العناصر[بيان[1]] = أعمل جواب(الشاشة_الرئيس){ضع_بيانات(بيان[3]) عند_التبديل("قيم_البيانات[:"+بيان[1]+"]=مصفوفة_العناصر[:"+بيان[1]+"].هات_النص()") }


لا
شوف "قوالب_مظهر "
لو(قوالب_مظهر[بيان[2]])
من صف في قوالب_مظهر[بيان[2]]
رسم_قالب (قوالب_مظهر[بيان[2]])
دور
تم
شوف "_نهاية_قوالب_مظهر" + سطر

تم


تم
دور
إضافات_الجدول=6
من رقم=1 إلى عدد_الجدول
قيم_البيانات + أعمل قائمة_جواب(الشاشة_الرئيس){}
قيم_البيانات + أعمل قائمة_جواب(الشاشة_الرئيس){ضع_بيانات([">" , "<" , "=" , :مشابه])}
قيم_البيانات +   أعمل جواب(الشاشة_الرئيس){ضع_نص("")}
قيم_البيانات +  أعمل زر(الشاشة_الرئيس){ضع_نص("إضافة")  }
قيم_البيانات +  أعمل جواب(الشاشة_الرئيس){ضع_نص("")}
قيم_البيانات +  أعمل زر(الشاشة_الرئيس){ضع_نص("بحث") }
دور
شوف "الشاشة_الرئيس : استعداد_الجلسة" + استعداد_الجلسة + سطر 
لو(استعداد_الجلسة=1)

مؤشر_زر = أعمل qCursor(){setShape(Qt_PointingHandCursor)}
مظهر_زر = "
	QPushButton{color:#2b5392} 
	QPushButton:hover{color:#fff;background-color:#490383} 
	QPushButton:pressed{color:#490383;background-color:#fff; }
"

إضافات_الجواب=1
من رقم=1 إلى عدد_الجواب

قيم_البيانات +  أعمل زر(الشاشة_الرئيس){ضع_مظهر(مظهر_زر) ضع_مؤشر(مؤشر_زر) }

دور
تم

الشاشة_الرئيس.ضع_اسم_مخزن_البيانات(اسم_مخزن_البيانات)
الشاشة_الرئيس.ضع_البيانات(البيانات,قيم_البيانات,مصفوفة_العناصر)
الشاشة_الرئيس.تقسيم_العناصر=تقسيم_العناصر
الشاشة_الرئيس.استعداد_الجلسة=استعداد_الجلسة
الشاشة_الرئيس{

رقم_الجدول=0
رقم_الجواب=0

أنشاء("الشاشة الرئيس",200,200)
مظهر_زر = "
	QPushButton{color:#2b5392} 
	QPushButton:hover{color:#fff;background-color:#490383} 
	QPushButton:pressed{color:#490383;background-color:#fff; }
"

مظهر_زر_مسح = "
	QPushButton{color:#ff0000} 
	QPushButton:hover{color:#fff;background-color:#490383} 
	QPushButton:pressed{color:#490383;background-color:#fff; }
"

مؤشر_زر = أعمل qCursor(){setShape(Qt_PointingHandCursor)}

المحتوي_الرسي= أعمل محتوي_رأسي()
محتوي_الأومر= أعمل محتوى_أفقي()
الأومر  = [
   أعمل زر(الشاشة_الرئيس){ضع_نص("إضافة")}
, أعمل زر(الشاشة_الرئيس){ضع_نص("تعديل")}
,  أعمل زر(الشاشة_الرئيس){ضع_نص("مسح")}
, أعمل زر(الشاشة_الرئيس){ضع_نص("خروج")}
]

شريط_الأومر = أعمل شريط_عناصر(الشاشة_الرئيس) {
		من زر في الأومر
			زر  {		
			
				ضع_مظهر(مظهر_زر)
				ضع_مؤشر(مؤشر_زر)
			}
			ضع_عنصر(زر)
		دور
	
	}
محتوي_الأومر.ضع_عنصر(شريط_الأومر)
المحتوي_الرسي.ضع_محتوى(محتوي_الأومر)
المحتوي_الأفقي=  []
عدد_المحتوي=0
عدد_العناصر= طول(مصفوفة_العناصر)
شوف  عدد_العناصر + سطر
من رقم=1 إلى عدد_العناصر
لو(رقم % تقسيم_العناصر = 1 ||  تقسيم_العناصر=1 )
عدد_المحتوي+=1
شوف "************" شوف سطر
المحتوي_الأفقي + أعمل محتوى_أفقي()
لو(البيانات[رقم][2]= :جدول)
متحوي_جدول=أعمل محتوي_رأسي()
متحوي_جدول.ضع_عنصر(مصفوفة_العناصر[رقم][2])
البحث  =[]
البحث + قيم_البيانات[1+رقم_الجدول]
البحث + قيم_البيانات[2+رقم_الجدول]
البحث + قيم_البيانات[3+رقم_الجدول]
البحث + قيم_البيانات[4+رقم_الجدول]

البحث[1].ضع_بيانات(مصفوفة_العناصر[رقم][2].رأس_البيانات)

شريط_الأومر = أعمل شريط_عناصر(الشاشة_الرئيس) {}
		من عنصر في البحث
			
			شريط_الأومر.ضع_عنصر(عنصر)
		دور
		
متحوي_جدول.ضع_عنصر(شريط_الأومر)
البحث_  =[]
البحث_ + قيم_البيانات[5+رقم_الجدول]
البحث_ + قيم_البيانات[6+رقم_الجدول]



  // البحث[4].جملة_البحث()

   البحث[4].عند_الضغط("  قيم_البيانات["+(4+رقم_الجدول)+"].جملة_البحث(قيم_البيانات,"+رقم_الجدول+")")
   
شريط_الأومر_ = أعمل شريط_عناصر(الشاشة_الرئيس) {}
		من عنصر في البحث_
			
			شريط_الأومر_.ضع_عنصر(عنصر)
		دور
		
		
متحوي_جدول.ضع_عنصر(شريط_الأومر_)
المحتوي_الأفقي[عدد_المحتوي].ضع_محتوى(متحوي_جدول)
رقم_الجدول+=إضافات_الجدول




إذا (البيانات[رقم][2]= :جواب)
لو(استعداد_الجلسة=1)
الإضافة=قيم_البيانات[(عدد_الجدول*إضافات_الجدول)+(1+رقم_الجواب)]
الإضافة.ضع_نص(البيانات[رقم][1])
المحتوي_الأفقي[عدد_المحتوي].ضع_عنصر(الإضافة)

رقم_الجواب+=إضافات_الجواب
تم
المحتوي_الأفقي[عدد_المحتوي].ضع_عنصر(مصفوفة_العناصر[رقم][2])


لا
المحتوي_الأفقي[عدد_المحتوي].ضع_عنصر(مصفوفة_العناصر[رقم][2])
تم

لو  ( تقسيم_العناصر=1 )
المحتوي_الرسي.ضع_محتوى(المحتوي_الأفقي[عدد_المحتوي])
تمام
إذا (رقم % تقسيم_العناصر = 0)

لو(البيانات[رقم][2]= :جدول)
متحوي_جدول=أعمل محتوي_رأسي()
متحوي_جدول.ضع_عنصر(مصفوفة_العناصر[رقم][2])
البحث  =[]
البحث + قيم_البيانات[1+رقم_الجدول]
البحث + قيم_البيانات[2+رقم_الجدول]
البحث + قيم_البيانات[3+رقم_الجدول]
البحث + قيم_البيانات[4+رقم_الجدول]

البحث[1].ضع_بيانات(مصفوفة_العناصر[رقم][2].رأس_البيانات)

شريط_الأومر = أعمل شريط_عناصر(الشاشة_الرئيس) {}
		من عنصر في البحث
			
			شريط_الأومر.ضع_عنصر(عنصر)
		دور
		
متحوي_جدول.ضع_عنصر(شريط_الأومر)
البحث_  =[]
البحث_ + قيم_البيانات[5+رقم_الجدول]
البحث_ + قيم_البيانات[6+رقم_الجدول]



  // البحث[4].جملة_البحث()

   البحث[4].عند_الضغط("  قيم_البيانات["+(4+رقم_الجدول)+"].جملة_البحث(قيم_البيانات,"+رقم_الجدول+")")
   
شريط_الأومر_ = أعمل شريط_عناصر(الشاشة_الرئيس) {}
		من عنصر في البحث_
			
			شريط_الأومر_.ضع_عنصر(عنصر)
		دور
		
		
متحوي_جدول.ضع_عنصر(شريط_الأومر_)
المحتوي_الأفقي[عدد_المحتوي].ضع_محتوى(متحوي_جدول)
رقم_الجدول+=إضافات_الجدول



إذا (البيانات[رقم][2]= :جواب)
لو(استعداد_الجلسة=1)
الإضافة=قيم_البيانات[(عدد_الجدول*إضافات_الجدول)+(1+رقم_الجواب)]
الإضافة.ضع_نص(البيانات[رقم][1])
المحتوي_الأفقي[عدد_المحتوي].ضع_عنصر(الإضافة)

رقم_الجواب+=إضافات_الجواب
تم
المحتوي_الأفقي[عدد_المحتوي].ضع_عنصر(مصفوفة_العناصر[رقم][2])
لا

المحتوي_الأفقي[عدد_المحتوي].ضع_عنصر(مصفوفة_العناصر[رقم][2])



تم
المحتوي_الرسي.ضع_محتوى(المحتوي_الأفقي[عدد_المحتوي])


لا

لو(البيانات[رقم][2]= :جدول)
   متحوي_جدول=أعمل محتوي_رأسي()
   متحوي_جدول.ضع_عنصر(مصفوفة_العناصر[رقم][2])
   البحث  =[]
   البحث + قيم_البيانات[1+رقم_الجدول]
   البحث + قيم_البيانات[2+رقم_الجدول]
   البحث + قيم_البيانات[3+رقم_الجدول]
   البحث + قيم_البيانات[4+رقم_الجدول]

   البحث[1].ضع_بيانات(مصفوفة_العناصر[رقم][2].رأس_البيانات)

   شريط_الأومر = أعمل شريط_عناصر(الشاشة_الرئيس) {}
		من عنصر في البحث
			
			شريط_الأومر.ضع_عنصر(عنصر)
		دور
		
    متحوي_جدول.ضع_عنصر(شريط_الأومر)
    البحث_  =[]
    البحث_ + قيم_البيانات[5+رقم_الجدول]
    البحث_ + قيم_البيانات[6+رقم_الجدول]



  // البحث[4].جملة_البحث()

    البحث[4].عند_الضغط("  قيم_البيانات["+(4+رقم_الجدول)+"].جملة_البحث(قيم_البيانات,"+رقم_الجدول+")")
   
    شريط_الأومر_ = أعمل شريط_عناصر(الشاشة_الرئيس) {}
		من عنصر في البحث_
			
			شريط_الأومر_.ضع_عنصر(عنصر)
		دور
		
		
     متحوي_جدول.ضع_عنصر(شريط_الأومر_)
     المحتوي_الأفقي[عدد_المحتوي].ضع_محتوى(متحوي_جدول)
     رقم_الجدول+=إضافات_الجدول




     إذا (البيانات[رقم][2]= :جواب)
          لو(استعداد_الجلسة=1)
             الإضافة=قيم_البيانات[(عدد_الجدول*إضافات_الجدول)+(1+رقم_الجواب)]
              الإضافة.ضع_نص(البيانات[رقم][1])
              المحتوي_الأفقي[عدد_المحتوي].ضع_عنصر(الإضافة)

             رقم_الجواب+=إضافات_الجواب
          تم
     المحتوي_الأفقي[عدد_المحتوي].ضع_عنصر(مصفوفة_العناصر[رقم][2])



    لا
   المحتوي_الأفقي[عدد_المحتوي].ضع_عنصر(مصفوفة_العناصر[رقم][2])
   تم



تم

شوف عدد_المحتوي + سطر
دور


لو ((عدد_المحتوي !=0 && عدد_العناصر % تقسيم_العناصر != 0  ) || تقسيم_العناصر=1 )
شوف "-----------------" شوف سطر
المحتوي_الرسي.ضع_محتوى(المحتوي_الأفقي[عدد_المحتوي])
تم


ضع_محتوى(المحتوي_الرسي)
أفتح()
}

تنفيذ()
}

تمام
دالة  رسم_قالب قالب
تمام

تمام
